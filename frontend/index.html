<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste des utilisateurs</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <h2>Liste des utilisateurs</h2>
    <div id="userList"></div>
    <hr>
    <button onclick="addUser()">Ajouter un utilisateur</button>

    <script src="">
      // Fonction pour récupérer la liste des utilisateurs
function getUsers() {
    fetch("/users")
        .then(response => response.json())
        .then(data => {
            const userList = document.getElementById("userList");
            userList.innerHTML = ""; // Vide le conteneur avant d'ajouter les utilisateurs

            data.forEach(user => {
                const userDiv = document.createElement("div");
                userDiv.innerHTML = `
                    <strong>${user.name}</strong><br>
                    Email: ${user.email}<br>
                    <hr>
                `;
                userList.appendChild(userDiv);
            });
        })
        .catch(error => {
            document.getElementById("userList").textContent = "Erreur lors de la récupération des utilisateurs.";
        });
}

// Appeler la fonction pour afficher les utilisateurs au chargement de la page
document.addEventListener("DOMContentLoaded", getUsers);

    </script>


<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
    padding: 0;
    background-color: #f4f4f4;
}

h2 {
    color: #333;
}

#userList {
    margin-top: 20px;
}

div {
    padding: 10px;
    background-color: #fff;
    margin-bottom: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
}

button {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    margin-top: 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

button:hover {
    background-color: #45a049;
}

</style>
</body>
</html>
